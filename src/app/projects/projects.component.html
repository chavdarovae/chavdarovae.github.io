<section class="main__projects" id="projectsSection">
	<h2 class="main__title page-title">Projects</h2>
	<div class="anchor-nav">
		<ul class="anchor-nav__list">
			<li class="anchor-nav__list-item">
				<a [routerLink]="[]"
				   fragment="workProjectsDiv"
				   class="anchor-nav__list-link anchor-nav__list-link--current">Work</a></li>
			<li class="anchor-nav__list-item">
				<a [routerLink]="[]"
				   fragment="personalProjectsDiv"
				   class="anchor-nav__list-link">Personal</a></li>
			<li class="anchor-nav__list-item">
				<a  [routerLink]="[]"
					fragment="studyProjectsDiv"
					class="anchor-nav__list-link">Study</a></li>
		</ul>
	</div>

	<div class="content-container" id="workProjectsDiv">
		<h2 class="main__title">WORK PROJECTS</h2>

		@for (project of projectList.slice(0, -4); track project.id) {
			<ng-container *ngTemplateOutlet="projectRef; context: {project}"></ng-container>
		}
	</div>


	<div class="content-container" id="personalProjectsDiv">
		<h2 class="main__title">PERSONAL PROJECTS</h2>

		@for (project of projectList.slice(-4, -2); track project.id) {
			<ng-container *ngTemplateOutlet="projectRef; context: {project}"></ng-container>
		}

	</div>



	<div class="content-container" id="studyProjectsDiv">
		<h2 class="main__title">PROJECTS WITH EDUCATIONAL PURPOSE</h2>

		@for (project of projectList.slice(-2); track project.id) {
			<ng-container *ngTemplateOutlet="projectRef; context: {project}"></ng-container>
		}
	</div>
</section>


<ng-template #projectRef let-project="project">
	<div class="project">
		<h3 class="project__title">{{project.title}}</h3>

		<div class="project__icon">
			<img src="icons/star.svg" alt="Star icon">
		</div>

		<p class="project__highlights">
			{{project.highlights}}
		</p>

		@for (info of project.info; track info) {
			<p class="project__info">{{info}}</p>
		}

		@for (media of project.media; track media) {
			<div class="project__media project__media--info">
				<div class="project__media-title">{{media.title}}</div>
				<div class="project__media-img project__media-img--big">
					<img [src]="'images/' + project.id + '/' + media.id + '/0.png'" [alt]="media.id + ' image'">
				</div>

				<div *ngIf="media.imgCount > 1" class="project__media-info">
					@for (pic of media.imgCount | rangePipe; track pic; let indexPic = $index) {
						<div class="project__media-img">
							<img [src]="'images/' + project.id + '/' + media.id + '/' +indexPic + '.png'" [alt]="project.id + ' ' + media.id + ' ' + indexPic + ' image'">
						</div>
					}
				</div>

			</div>
		}

	</div>
</ng-template>
